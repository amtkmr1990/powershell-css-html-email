If you have a data in XML format and want to use the css HTML format for sending email.
You can use the following script.

The xslt file should be modified with the body message as per you xml file. 
In this case we have a sample.XML file which is input to the script and sample.html which is the output and will be used to send email